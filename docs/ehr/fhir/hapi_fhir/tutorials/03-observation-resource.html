<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    
    <title>Tutorial - FHIR Observation Resource | CodeSpaceX</title>
    <meta name="description" content="A knowledge base for EHR & CI/CD">
    <link rel="preload stylesheet" href="/codespacex/assets/style.9da2794f.css" as="style">
    
    <script type="module" src="/codespacex/assets/app.82bc7a38.js"></script>
    <link rel="preload" href="/codespacex/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/codespacex/assets/chunks/framework.f9076d03.js">
    <link rel="modulepreload" href="/codespacex/assets/chunks/theme.0b3df400.js">
    <link rel="modulepreload" href="/codespacex/assets/docs_ehr_fhir_hapi_fhir_tutorials_03-observation-resource.md.f68dc617.lean.js">
    <link rel="icon" type="image/x-icon" href="/codespacex/logo_header.svg">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5a346dfe><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0f60ec36></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0f60ec36> Skip to content </a><!--]--><!----><header class="VPNav" data-v-5a346dfe data-v-ae24b3ad><div class="VPNavBar has-sidebar" data-v-ae24b3ad data-v-a0fd61f4><div class="container" data-v-a0fd61f4><div class="title" data-v-a0fd61f4><div class="VPNavBarTitle has-sidebar" data-v-a0fd61f4 data-v-86d1bed8><a class="title" href="/codespacex/" data-v-86d1bed8><!--[--><!--[--><!--[--><!--[--><div class="nav-logo"></div><!--]--><!--]--><!--]--><!--]--><!----><!--[-->CodeSpaceX<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-a0fd61f4><div class="curtain" data-v-a0fd61f4></div><div class="content-body" data-v-a0fd61f4><!--[--><!--]--><div class="VPNavBarSearch search" data-v-a0fd61f4><!--[--><!----><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-a0fd61f4 data-v-7f418b0f><span id="main-nav-aria-label" class="visually-hidden" data-v-7f418b0f>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/codespacex/docs/inspirations/git" tabindex="0" data-v-7f418b0f data-v-42ef59de><!--[--><span data-v-42ef59de>📝 Inspirations</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7f418b0f data-v-9c007e85><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-9c007e85><span class="text" data-v-9c007e85><!----><span data-v-9c007e85>🔥 EHR</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-9c007e85><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-9c007e85><div class="VPMenu" data-v-9c007e85 data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuGroup" data-v-e7ea1737 data-v-69e747b5><!----><!--[--><!--[--><div class="VPMenuLink" data-v-69e747b5 data-v-43f1e123><a class="VPLink link active" href="/codespacex/docs/ehr/server/architecture" data-v-43f1e123><!--[-->🕌 Architecture<!--]--></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link active" href="/codespacex/docs/ehr/fhir/01-fhir-resources" data-v-43f1e123><!--[-->🌋 FHIR<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link active" href="/codespacex/docs/ehr/fhir/03-fhir-omop" data-v-43f1e123><!--[-->🤖 OMOP<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link active" href="/codespacex/docs/ehr/soda/soda_guidelines" data-v-43f1e123><!--[-->🤔 SODA<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7f418b0f data-v-9c007e85><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-9c007e85><span class="text" data-v-9c007e85><!----><span data-v-9c007e85>🦾 DevOps</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-9c007e85><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-9c007e85><div class="VPMenu" data-v-9c007e85 data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/codespacex/docs/devops/azure/azure104/topic_1" data-v-43f1e123><!--[-->Azure<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/codespacex/docs/devops/elastic-search/00-index" data-v-43f1e123><!--[-->Elastic Search<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/codespacex/docs/devops/docker/index" data-v-43f1e123><!--[-->Docker<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/codespacex/docs/devops/kubernetes/index" data-v-43f1e123><!--[-->Kubernetes<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7f418b0f data-v-9c007e85><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-9c007e85><span class="text" data-v-9c007e85><!----><span data-v-9c007e85>Copper3d</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-9c007e85><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-9c007e85><div class="VPMenu" data-v-9c007e85 data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/codespacex/docs/copper3d/issues" data-v-43f1e123><!--[-->Issues<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/codespacex/docs/code-tools/nav" tabindex="0" data-v-7f418b0f data-v-42ef59de><!--[--><span data-v-42ef59de>🔧 Coding tools</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-a0fd61f4 data-v-e6aabb21><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-e6aabb21 data-v-ce54a7d1 data-v-b1685198><span class="check" data-v-b1685198><span class="icon" data-v-b1685198><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-ce54a7d1><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-ce54a7d1><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-a0fd61f4 data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/Copper3D-brids/codespacex" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-f80f8133><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-a0fd61f4 data-v-40855f84 data-v-9c007e85><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-9c007e85><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-9c007e85><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-9c007e85><div class="VPMenu" data-v-9c007e85 data-v-e7ea1737><!----><!--[--><!--[--><!----><div class="group" data-v-40855f84><div class="item appearance" data-v-40855f84><p class="label" data-v-40855f84>Appearance</p><div class="appearance-action" data-v-40855f84><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-40855f84 data-v-ce54a7d1 data-v-b1685198><span class="check" data-v-b1685198><span class="icon" data-v-b1685198><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-ce54a7d1><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-ce54a7d1><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-40855f84><div class="item social-links" data-v-40855f84><div class="VPSocialLinks social-links-list" data-v-40855f84 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/Copper3D-brids/codespacex" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-f80f8133><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-a0fd61f4 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav reached-top" data-v-5a346dfe data-v-79c8c1df><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-79c8c1df><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-79c8c1df><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-79c8c1df>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-79c8c1df data-v-1c15a60a><button data-v-1c15a60a>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-5a346dfe data-v-b00e2fdd><div class="curtain" data-v-b00e2fdd></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-b00e2fdd><span class="visually-hidden" id="sidebar-aria-label" data-v-b00e2fdd> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0 collapsible has-active" data-v-b00e2fdd data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>EHR</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e31bd47b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-e31bd47b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/codespacex/docs/ehr/roadmap" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>📚 Roadmap</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/codespacex/docs/ehr/server/architecture" data-v-e31bd47b><!--[--><h3 class="text" data-v-e31bd47b>🌱 Architecture</h3><!--]--></a><!----></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/codespacex/docs/ehr/server/mvp" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>MVP</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 has-active" data-v-e31bd47b data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h3 class="text" data-v-e31bd47b>FHIR</h3><!----></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/codespacex/docs/ehr/fhir/01-fhir-resources" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>FHIR Resources for EHR (MRI)</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-2 is-link has-active" data-v-e31bd47b data-v-e31bd47b><div class="item" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/codespacex/docs/ehr/fhir/hapi_fhir/hapi-fhir" data-v-e31bd47b><!--[--><h4 class="text" data-v-e31bd47b>Hapi FHIR</h4><!--]--></a><!----></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-3 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/codespacex/docs/ehr/fhir/hapi_fhir/tutorials/00-synthea" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>T-00 Synthea data</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/codespacex/docs/ehr/fhir/hapi_fhir/tutorials/01-initial-data" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>T-01 Initial dataset</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/codespacex/docs/ehr/fhir/hapi_fhir/tutorials/02-patient-resource" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>T-02 Patient resource</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/codespacex/docs/ehr/fhir/hapi_fhir/tutorials/03-observation-resource" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>T-03 Observation resource</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/codespacex/docs/ehr/fhir/hapi_fhir/tutorials/04-practitioner-schedule-resource" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>T-04 Practitioner & Schedule resource</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/codespacex/docs/ehr/fhir/hapi_fhir/tutorials/05-appointment-resource" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>T-05 Appointment resource</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/codespacex/docs/ehr/fhir/hapi_fhir/tutorials/06-encounter-resource" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>T-06 Encounter resource</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/codespacex/docs/ehr/fhir/hapi_fhir/tutorials/07-imagingstudy-resource" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>T-07 ImagingStudy resource</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/codespacex/docs/ehr/fhir/hapi_fhir/tutorials/08-imagingstudy-ehr" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>T-08 ImagingStudy Duke EHR</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/codespacex/docs/ehr/fhir/fhir-ig/01-fhir-ig" data-v-e31bd47b><!--[--><h4 class="text" data-v-e31bd47b>Hapi Implementation Guide</h4><!--]--></a><!----></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-3 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/codespacex/docs/ehr/fhir/fhir-ig/01-fhir-ig" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>FHIR Implementation Guide & Package</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/codespacex/docs/ehr/fhir/fhir-ig/02-fhir-mcode" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>mCODE Implementation Guide</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/codespacex/docs/ehr/fhir/fhir-ig/03-fhir-profiling" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>FHIR Profiling Training</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/codespacex/docs/ehr/fhir/03-fhir-omop" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>OMOP on FHIR</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/codespacex/docs/ehr/fhir/04-fhir-redcap" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>REDCap on FHIR</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/codespacex/docs/ehr/soda/soda_guidelines" data-v-e31bd47b><!--[--><h3 class="text" data-v-e31bd47b>SODA</h3><!--]--></a><!----></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/codespacex/docs/ehr/soda/soda_guidelines" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Guidelines</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5a346dfe data-v-669faec9><div class="VPDoc has-sidebar has-aside" data-v-669faec9 data-v-6b87e69f><!--[--><!--]--><div class="container" data-v-6b87e69f><div class="aside" data-v-6b87e69f><div class="aside-curtain" data-v-6b87e69f></div><div class="aside-container" data-v-6b87e69f><div class="aside-content" data-v-6b87e69f><div class="VPDocAside" data-v-6b87e69f data-v-3f215769><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-3f215769 data-v-d330b1bb><div class="content" data-v-d330b1bb><div class="outline-marker" data-v-d330b1bb></div><div class="outline-title" role="heading" aria-level="2" data-v-d330b1bb>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-d330b1bb><span class="visually-hidden" id="doc-outline-aria-label" data-v-d330b1bb> Table of Contents for current page </span><ul class="root" data-v-d330b1bb data-v-d0ee3533><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-6b87e69f><div class="content-container" data-v-6b87e69f><!--[--><!--]--><!----><main class="main" data-v-6b87e69f><div style="position:relative;" class="vp-doc _codespacex_docs_ehr_fhir_hapi_fhir_tutorials_03-observation-resource" data-v-6b87e69f><div><h1 id="tutorial-fhir-observation-resource" tabindex="-1">Tutorial - FHIR Observation Resource <a class="header-anchor" href="#tutorial-fhir-observation-resource" aria-label="Permalink to &quot;Tutorial - FHIR Observation Resource&quot;">​</a></h1><ul><li><p>Tutorial code on GitHub <a href="https://github.com/Copper3D-brids/hapi-py-fhir-tutorials/blob/main/observationOperator.py" target="_blank" rel="noreferrer">hapi-py-fhir-tutorials -- observationOpeartor.py</a>.</p></li><li><p>Currently, it is a <strong>private</strong> repository, will open source later...</p></li></ul><h2 id="background" tabindex="-1">Background <a class="header-anchor" href="#background" aria-label="Permalink to &quot;Background&quot;">​</a></h2><p>A Observation Resources are used to store basic physical information about the patient.</p><ul><li><code>Vital signs</code>: body weight, blood pressure, and temperature etc.</li><li><code>Laboratory Data</code>: blood glucose, or an estimated GFR etc.</li><li><code>Imaging Results</code>: bone density or fetal measurements etc.</li><li><code>Clinical Findings</code>: abdominal tenderness etc.</li><li><code>Device measurements</code>: EKG data or Pulse Oximetry data etc.</li><li><code>Device Settings</code>: mechanical ventilator parameters etc.</li><li><code>Clinical assessment tools</code>: APGAR or a Glasgow Coma Score etc.</li><li><code>Personal characteristics</code>: eye-color etc.</li><li><code>Social history</code>: tobacco use, family support, or cognitive status etc.</li><li><code>Core characteristics</code>: pregnancy status, or a death assertion.</li><li><code>Product quality tests</code>: pH, Assay, Microbial limits, etc. on product and substance.</li></ul><h3 id="scenario" tabindex="-1">Scenario <a class="header-anchor" href="#scenario" aria-label="Permalink to &quot;Scenario&quot;">​</a></h3><p>A clinical coordinator asked John about his complaints to clarify how we can help. John explained, he doesn&#39;t feel well this week. It&#39;s related to the temperature and high blood pressure. This started to happen on Monday (10-20-2022).</p><h2 id="setup-environment" tabindex="-1">Setup environment <a class="header-anchor" href="#setup-environment" aria-label="Permalink to &quot;Setup environment&quot;">​</a></h2><ul><li>Same to Tutorial 02</li></ul><h2 id="introduction" tabindex="-1">Introduction <a class="header-anchor" href="#introduction" aria-label="Permalink to &quot;Introduction&quot;">​</a></h2><h3 id="import-library" tabindex="-1">Import library <a class="header-anchor" href="#import-library" aria-label="Permalink to &quot;Import library&quot;">​</a></h3><p>At the beginning we need to import libraries <code>fhirpy</code> and <code>os</code>.</p><p>Also, we re-use the customise function <code>pprint</code> from Tutorial-02. We&#39;ll use it to display some Observation resource data structures.</p><div class="language-py vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> os</span></span>
<span class="line"><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> fhirpy </span><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> AsyncFHIRClient</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> os</span></span>
<span class="line"><span style="color:#D73A49;">from</span><span style="color:#24292E;"> fhirpy </span><span style="color:#D73A49;">import</span><span style="color:#24292E;"> AsyncFHIRClient</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="create-an-instance-of-connection" tabindex="-1">Create an instance of connection <a class="header-anchor" href="#create-an-instance-of-connection" aria-label="Permalink to &quot;Create an instance of connection&quot;">​</a></h3><p>To load data from FHIR server we should instaniate <code>FHIRClient</code> class from <code>fhirpy AsyncFHIRClient</code> method.</p><p>Let&#39;s pass <code>url</code> and <code>authorization</code> arguments from environment.</p><div class="language-py vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">client </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> AsyncFHIRClient(</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#FFAB70;">url</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;http://localhost:8080/fhir/&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#FFAB70;">authorization</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;Bearer TOKEN&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    )</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">client </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> AsyncFHIRClient(</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#E36209;">url</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;http://localhost:8080/fhir/&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#E36209;">authorization</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;Bearer TOKEN&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    )</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Now, we are able to operate with FHIR resources using <code>client</code>.</p><h2 id="load-data-from-the-fhir-server" tabindex="-1">Load data from the FHIR server <a class="header-anchor" href="#load-data-from-the-fhir-server" aria-label="Permalink to &quot;Load data from the FHIR server&quot;">​</a></h2><h3 id="load-list-of-observations" tabindex="-1">Load list of observations <a class="header-anchor" href="#load-list-of-observations" aria-label="Permalink to &quot;Load list of observations&quot;">​</a></h3><p><a href="http://hl7.org/fhir/R4/observation.html" target="_blank" rel="noreferrer">Observation</a> is a central element in healthcare, used to support a diagnosis, monitor progress, determine baselines and patterns and even capture demographic characteristics. Most observations are simple name/value pair assertions with some metadata, but some observations group other observations together logically, or even are multi-component observations.</p><div class="language-py vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">observations </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> client.resources(</span><span style="color:#9ECBFF;">&#39;Observation&#39;</span><span style="color:#E1E4E8;">).limit().fetch()</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">observations </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> client.resources(</span><span style="color:#032F62;">&#39;Observation&#39;</span><span style="color:#24292E;">).limit().fetch()</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>This line fetched a portion of data in size of from the server. You can see the result of its execution.</p><p>We also can display all data from the Observation</p><div class="language-py vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">pprint(observations[</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">])</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">pprint(observations[</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">])</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="create-observation-record" tabindex="-1">Create Observation record <a class="header-anchor" href="#create-observation-record" aria-label="Permalink to &quot;Create Observation record&quot;">​</a></h2><p>There are two patient&#39;s claims:</p><ul><li>On Monday his temperature was 96.8 F and the blood pressure was 140/90.</li><li>On Tuesday his temperature was 100.4 F and the blood pressure was 120/80.</li></ul><p>The category of our claims is defined by the <code>category</code> field of the <code>Observation</code>. This field is of type <a href="https://www.hl7.org/fhir/datatypes.html#CodeableConcept" target="_blank" rel="noreferrer">CodeableConcept</a>.</p><p><code>CodeableConcept</code> consists of a terminology (<code>coding</code> field of type <a href="https://www.hl7.org/fhir/datatypes.html#Coding" target="_blank" rel="noreferrer">Coding</a>). We are going to use it in our formal description and a plain text problem explanation (<code>text</code> field of type <a href="https://www.hl7.org/fhir/datatypes.html#string" target="_blank" rel="noreferrer">string</a>). When none of the <code>coding</code> elements are marked as <code>userSelected</code>, the <code>text</code> (if present) it the preferred source of meaning.</p><p>Within <a href="https://www.hl7.org/fhir/datatypes.html#Coding" target="_blank" rel="noreferrer">Coding</a> we can refer to a particular <code>system</code> and <code>code</code>.</p><p><code>Observation</code> defines its <code>category.coding</code> in terms of <a href="https://www.hl7.org/fhir/valueset-observation-category.html" target="_blank" rel="noreferrer">observation-category</a>, so this is our <code>category.coding.system</code>.</p><p><code>observation-category</code> contains multiple concepts, yan can read up on them in the official FHIR specification.</p><p>Patient&#39;s claims contain information about the body temperature and the blood pressure, se we choose <code>vital-signs</code> as the <code>category.coding.code</code>.</p><p>From <a href="https://www.hl7.org/fhir/vitalsigns.html" target="_blank" rel="noreferrer">vital-signs structure definition</a> we can verify our <code>category</code> value (that we&#39;ve figured out above) and find out what the <code>code</code> value is.</p><p><code>Observation.code</code>:</p><ul><li><code>coding.system</code> - <a href="http://loinc.org" target="_blank" rel="noreferrer">http://loinc.org</a></li><li><code>coding.code</code> - one of the allowed <a href="https://www.hl7.org/fhir/valueset-observation-vitalsignresult.html" target="_blank" rel="noreferrer">vital sign result types</a>, in our case it is <code>8310-5</code> for body temperature, <code>8480-6</code> for systolic blood pressure and <code>8462-4</code> for diastolic blood pressure.</li></ul><p>Now we clarified <code>Observation category</code> and <code>code</code>. Let&#39;s create an <code>Observation</code> object.</p><p>Before we do that, please read a small note about Observation <a href="https://www.hl7.org/fhir/valueset-observation-status.html" target="_blank" rel="noreferrer">status</a> field: it is used to specify what the current status of an observation is.</p><p>There are multiple values defined in the <code>FHIR specification</code>, some of them are:</p><ul><li><code>registered</code> - The existence of the observation is registered, but there is no result yet available.</li><li><code>preliminary</code> - This is an initial or interim observation: data may be incomplete or unverified.</li><li><code>final</code> - The observation is complete.</li></ul><div class="language-py vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">observation </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> client.resource(</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&#39;Observation&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">status</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;preliminary&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">category</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">[{</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&#39;coding&#39;</span><span style="color:#E1E4E8;">: [{</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#9ECBFF;">&#39;system&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;http://hl7.org/fhir/observation-category&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#9ECBFF;">&#39;code&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;vital-signs&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">        }]</span></span>
<span class="line"><span style="color:#E1E4E8;">    }],</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">code</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&#39;coding&#39;</span><span style="color:#E1E4E8;">:[{</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#9ECBFF;">&#39;system&#39;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&#39;http://loinc.org&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#9ECBFF;">&#39;code&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;8310-5&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">        }]</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">observation </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> client.resource(</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&#39;Observation&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">status</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;preliminary&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">category</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">[{</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&#39;coding&#39;</span><span style="color:#24292E;">: [{</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#032F62;">&#39;system&#39;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;http://hl7.org/fhir/observation-category&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#032F62;">&#39;code&#39;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;vital-signs&#39;</span></span>
<span class="line"><span style="color:#24292E;">        }]</span></span>
<span class="line"><span style="color:#24292E;">    }],</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">code</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&#39;coding&#39;</span><span style="color:#24292E;">:[{</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#032F62;">&#39;system&#39;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&#39;http://loinc.org&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#032F62;">&#39;code&#39;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;8310-5&#39;</span></span>
<span class="line"><span style="color:#24292E;">        }]</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p><code>Observation</code> has a field called <code>valueQuantity</code> (of type Quantity) it contains current results of measurements performed.</p><p>According to <a href="https://www.hl7.org/fhir/vitalsigns.html" target="_blank" rel="noreferrer">vital-signs structure definition</a> for <code>vital-signs</code> category this field can be populated with (remember, it is of <a href="https://www.hl7.org/fhir/datatypes.html#Quantity" target="_blank" rel="noreferrer">Quantity</a> type):</p><ul><li><code>system</code> - <code>http://unitsofmeasure.org</code></li><li><code>value</code> - represents one numeric value</li><li><code>code</code> - UCUM (stands for The Unified Code for Units of Measure) unit code from <a href="https://www.hl7.org/fhir/valueset-ucum-vitals-common.html" target="_blank" rel="noreferrer">Vital Signs Units</a></li></ul><p>So, on Monday (10-20-2022) our patient has a temperature of <code>96.8F</code> let&#39;s write it in the observation</p><div class="language-py vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">observation[</span><span style="color:#9ECBFF;">&#39;effectiveDateTime&#39;</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;2022-10-20&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">observation[</span><span style="color:#9ECBFF;">&#39;valueQuantity&#39;</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&#39;system&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;http://unitsofmeasure.org&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&#39;value&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">96.8</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&#39;code&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;degF&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">observation[</span><span style="color:#032F62;">&#39;effectiveDateTime&#39;</span><span style="color:#24292E;">] </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;2022-10-20&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">observation[</span><span style="color:#032F62;">&#39;valueQuantity&#39;</span><span style="color:#24292E;">] </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&#39;system&#39;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;http://unitsofmeasure.org&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&#39;value&#39;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">96.8</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&#39;code&#39;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;degF&#39;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>We&#39;ve just created our first <code>Observation</code> object. Let&#39;s connect the <code>Observation</code>resource to the <code>Patient</code> resource from T-02 before saving to the HAPI FHIR server database.</p><div class="language-py vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">patient </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> client.resources(</span><span style="color:#9ECBFF;">&#39;Patient&#39;</span><span style="color:#E1E4E8;">).search(</span><span style="color:#FFAB70;">name</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">[</span><span style="color:#9ECBFF;">&#39;John&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;Thompson&#39;</span><span style="color:#E1E4E8;">]).first()</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">patient </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> client.resources(</span><span style="color:#032F62;">&#39;Patient&#39;</span><span style="color:#24292E;">).search(</span><span style="color:#E36209;">name</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">[</span><span style="color:#032F62;">&#39;John&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;Thompson&#39;</span><span style="color:#24292E;">]).first()</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><code>Patient</code> reference is stored in <code>Observation.subject</code>.</p><div class="language-py vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">observation[</span><span style="color:#9ECBFF;">&#39;subject&#39;</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> patient.to_reference()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> observation.save()</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">observation[</span><span style="color:#032F62;">&#39;subject&#39;</span><span style="color:#24292E;">] </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> patient.to_reference()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">await</span><span style="color:#24292E;"> observation.save()</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Let&#39;s figure out what the current observation state is:</p><div class="language-py vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">pprint(observation)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">pprint(observation)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="updated-scenario" tabindex="-1">Updated Scenario <a class="header-anchor" href="#updated-scenario" aria-label="Permalink to &quot;Updated Scenario&quot;">​</a></h3><p>Now the patient weight is 85 kilograms, we can add it into a new observation based <a href="https://www.hl7.org/fhir/vitalsigns.html" target="_blank" rel="noreferrer">vital-signs structure definition</a>, <a href="https://www.hl7.org/fhir/valueset-observation-vitalsignresult.html" target="_blank" rel="noreferrer">allowed vital sign result types</a> and <a href="https://www.hl7.org/fhir/valueset-ucum-vitals-common.html" target="_blank" rel="noreferrer">vital signs units</a>.</p><p>Also, let&#39;s go through the <a href="http://hl7.org/fhir/observation-examples.html#10.1.8.13" target="_blank" rel="noreferrer">observation example details</a> to find out a sulotion on how to fill the key/values pairs in a observation resource. This is an <a href="http://hl7.org/fhir/observation-example.json.html" target="_blank" rel="noreferrer">example for patient body weight</a> observation resource.</p><div class="language-py vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">weight_observation </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> client.resource(</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&#39;Observation&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">status</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;preliminary&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">category</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">[{</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&#39;coding&#39;</span><span style="color:#E1E4E8;">: [{</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#9ECBFF;">&#39;system&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;http://hl7.org/fhir/observation-category&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#9ECBFF;">&#39;code&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;vital-signs&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#9ECBFF;">&quot;display&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;Vital Signs&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        }]</span></span>
<span class="line"><span style="color:#E1E4E8;">    }],</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">code</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&quot;coding&quot;</span><span style="color:#E1E4E8;">:[{</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#9ECBFF;">&quot;system&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;http://loinc.org&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#9ECBFF;">&quot;code&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;29463-7&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#9ECBFF;">&quot;display&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;Body Weight&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        }]</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">effectiveDateTime</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;2022-10-20&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">valueQuantity</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&quot;value&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">85</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&quot;unit&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;kg&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&quot;system&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;	http://unitsofmeasure.org&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&quot;code&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;kg&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">subject</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">patient.to_reference()</span></span>
<span class="line"><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">pprint(weight_observation)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> weight_observation.save()</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">weight_observation </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> client.resource(</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&#39;Observation&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">status</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;preliminary&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">category</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">[{</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&#39;coding&#39;</span><span style="color:#24292E;">: [{</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#032F62;">&#39;system&#39;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;http://hl7.org/fhir/observation-category&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#032F62;">&#39;code&#39;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;vital-signs&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#032F62;">&quot;display&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;Vital Signs&quot;</span></span>
<span class="line"><span style="color:#24292E;">        }]</span></span>
<span class="line"><span style="color:#24292E;">    }],</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">code</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&quot;coding&quot;</span><span style="color:#24292E;">:[{</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#032F62;">&quot;system&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;http://loinc.org&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#032F62;">&quot;code&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;29463-7&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#032F62;">&quot;display&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;Body Weight&quot;</span></span>
<span class="line"><span style="color:#24292E;">        }]</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">effectiveDateTime</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;2022-10-20&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">valueQuantity</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&quot;value&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">85</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&quot;unit&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;kg&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&quot;system&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;	http://unitsofmeasure.org&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&quot;code&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;kg&quot;</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">subject</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">patient.to_reference()</span></span>
<span class="line"><span style="color:#24292E;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">pprint(weight_observation)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">await</span><span style="color:#24292E;"> weight_observation.save()</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><p>Then let&#39;s create <code>Observation</code> object for the blood pressure.</p><p>Blood pressure value is built up of two parts: <code>systolic</code> and <code>diastolic</code>, and we have to specidy both of them in the same <code>Observation</code>. For this purpose there is a special field in Observation object called <code>component</code>. Each <code>component</code> field consists of <code>code</code> and <code>valueQuantity</code>. For <code>Observation</code> with multiple components we have to specify section header code. For blood pressure this code is <code>55284-4</code> from <code>http://lo*inc.org</code> system.</p><div class="language-py vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">blood_pressure_observation </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> client.resource(</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&#39;Observation&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">status</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;preliminary&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">category</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">[{</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&#39;coding&#39;</span><span style="color:#E1E4E8;">:[{</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#9ECBFF;">&#39;system&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;http://hl7.org/fhir/observation-category&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#9ECBFF;">&#39;code&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;vital-signs&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">        }]   </span></span>
<span class="line"><span style="color:#E1E4E8;">    }],</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">code</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#9ECBFF;">&#39;coding&#39;</span><span style="color:#E1E4E8;">:[{</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#9ECBFF;">&#39;system&#39;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&#39;http://loinc.org&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#9ECBFF;">&#39;code&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;55284-4&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">            }]</span></span>
<span class="line"><span style="color:#E1E4E8;">        },</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">component</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">[</span></span>
<span class="line"><span style="color:#E1E4E8;">        {</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#9ECBFF;">&#39;code&#39;</span><span style="color:#E1E4E8;">:{</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#9ECBFF;">&#39;coding&#39;</span><span style="color:#E1E4E8;">:[{</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#9ECBFF;">&#39;system&#39;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&#39;http://loinc.org&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#9ECBFF;">&#39;code&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;8480-6&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">                }]</span></span>
<span class="line"><span style="color:#E1E4E8;">            },</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#9ECBFF;">&#39;valueQuantity&#39;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#9ECBFF;">&#39;system&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;http://unitsofmeasure.org&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#9ECBFF;">&#39;value&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">140</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#9ECBFF;">&#39;code&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;mmHg&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">            }</span></span>
<span class="line"><span style="color:#E1E4E8;">        },</span></span>
<span class="line"><span style="color:#E1E4E8;">        {</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#9ECBFF;">&#39;code&#39;</span><span style="color:#E1E4E8;">:{</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#9ECBFF;">&#39;coding&#39;</span><span style="color:#E1E4E8;">:[{</span></span>
<span class="line"><span style="color:#E1E4E8;">                    </span><span style="color:#9ECBFF;">&#39;system&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;http://loinc.org&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                    </span><span style="color:#9ECBFF;">&#39;code&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;8462-4&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">                }]</span></span>
<span class="line"><span style="color:#E1E4E8;">            },</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#9ECBFF;">&#39;valueQuantity&#39;</span><span style="color:#E1E4E8;">:{</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#9ECBFF;">&#39;system&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;http://unitsofmeasure.org&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#9ECBFF;">&#39;value&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">90</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#9ECBFF;">&#39;code&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;mmHg&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">            }</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">    ],</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">effectiveDateTime</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;2022-10-20&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">subject</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">patient.to_reference()</span></span>
<span class="line"><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">pprint(blood_pressure_observation)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> blood_pressure_observation.save()</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">blood_pressure_observation </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> client.resource(</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&#39;Observation&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">status</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;preliminary&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">category</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">[{</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&#39;coding&#39;</span><span style="color:#24292E;">:[{</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#032F62;">&#39;system&#39;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;http://hl7.org/fhir/observation-category&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#032F62;">&#39;code&#39;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;vital-signs&#39;</span></span>
<span class="line"><span style="color:#24292E;">        }]   </span></span>
<span class="line"><span style="color:#24292E;">    }],</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">code</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#032F62;">&#39;coding&#39;</span><span style="color:#24292E;">:[{</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#032F62;">&#39;system&#39;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&#39;http://loinc.org&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#032F62;">&#39;code&#39;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;55284-4&#39;</span></span>
<span class="line"><span style="color:#24292E;">            }]</span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">component</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">[</span></span>
<span class="line"><span style="color:#24292E;">        {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#032F62;">&#39;code&#39;</span><span style="color:#24292E;">:{</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#032F62;">&#39;coding&#39;</span><span style="color:#24292E;">:[{</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#032F62;">&#39;system&#39;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&#39;http://loinc.org&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#032F62;">&#39;code&#39;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;8480-6&#39;</span></span>
<span class="line"><span style="color:#24292E;">                }]</span></span>
<span class="line"><span style="color:#24292E;">            },</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#032F62;">&#39;valueQuantity&#39;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#032F62;">&#39;system&#39;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;http://unitsofmeasure.org&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#032F62;">&#39;value&#39;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">140</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#032F62;">&#39;code&#39;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;mmHg&#39;</span></span>
<span class="line"><span style="color:#24292E;">            }</span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">        {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#032F62;">&#39;code&#39;</span><span style="color:#24292E;">:{</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#032F62;">&#39;coding&#39;</span><span style="color:#24292E;">:[{</span></span>
<span class="line"><span style="color:#24292E;">                    </span><span style="color:#032F62;">&#39;system&#39;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;http://loinc.org&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                    </span><span style="color:#032F62;">&#39;code&#39;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;8462-4&#39;</span></span>
<span class="line"><span style="color:#24292E;">                }]</span></span>
<span class="line"><span style="color:#24292E;">            },</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#032F62;">&#39;valueQuantity&#39;</span><span style="color:#24292E;">:{</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#032F62;">&#39;system&#39;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;http://unitsofmeasure.org&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#032F62;">&#39;value&#39;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">90</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#032F62;">&#39;code&#39;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;mmHg&#39;</span></span>
<span class="line"><span style="color:#24292E;">            }</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">    ],</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">effectiveDateTime</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;2022-10-20&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">subject</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">patient.to_reference()</span></span>
<span class="line"><span style="color:#24292E;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">pprint(blood_pressure_observation)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">await</span><span style="color:#24292E;"> blood_pressure_observation.save()</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br></div></div><h3 id="create-observation-for-each-data" tabindex="-1">Create observation for each data <a class="header-anchor" href="#create-observation-for-each-data" aria-label="Permalink to &quot;Create observation for each data&quot;">​</a></h3><p><strong>Note:</strong> The observation resource is used for store one type of category data. If we have multiple temperature, blood pressure .etc data, we need to create separate observation resource for each of them. Even if they have same data on blood pressure but on different dates, we also need to create observation resources for each of them, and link them to a same <code>Patient</code> resource reference.</p><p>Thus, let&#39;s create observations for Tuesday values of blood pressure and the body temperature using scenarios give above.</p><ul><li>Temperature</li></ul><div class="language-py vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">tuesday_temperature_observation </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> client.resource(</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&#39;Observation&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">status</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;preliminary&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">category</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">[{</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&#39;coding&#39;</span><span style="color:#E1E4E8;">: [{</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#9ECBFF;">&#39;system&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;http://hl7.org/fhir/observation-category&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#9ECBFF;">&#39;code&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;vital-signs&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">        }]</span></span>
<span class="line"><span style="color:#E1E4E8;">    }],</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">code</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&#39;coding&#39;</span><span style="color:#E1E4E8;">: [{</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#9ECBFF;">&#39;system&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;http://loinc.org&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#9ECBFF;">&#39;code&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;8310-5&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">        }]</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">effectiveDateTime</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;2022-10-21&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">valueQuantity</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&#39;system&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;http://unitsofmeasure.org&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&#39;value&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">100.4</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&#39;code&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;degF&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">tuesday_temperature_observation </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> client.resource(</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&#39;Observation&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">status</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;preliminary&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">category</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">[{</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&#39;coding&#39;</span><span style="color:#24292E;">: [{</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#032F62;">&#39;system&#39;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;http://hl7.org/fhir/observation-category&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#032F62;">&#39;code&#39;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;vital-signs&#39;</span></span>
<span class="line"><span style="color:#24292E;">        }]</span></span>
<span class="line"><span style="color:#24292E;">    }],</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">code</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&#39;coding&#39;</span><span style="color:#24292E;">: [{</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#032F62;">&#39;system&#39;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;http://loinc.org&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#032F62;">&#39;code&#39;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;8310-5&#39;</span></span>
<span class="line"><span style="color:#24292E;">        }]</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">effectiveDateTime</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;2022-10-21&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">valueQuantity</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&#39;system&#39;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;http://unitsofmeasure.org&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&#39;value&#39;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">100.4</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&#39;code&#39;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;degF&#39;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><ul><li>Blood pressure</li></ul><div class="language-py vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">tuesday_blood_pressure_observaion </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> client.resource(</span></span>
<span class="line"><span style="color:#E1E4E8;">     </span><span style="color:#9ECBFF;">&#39;Observation&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">status</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;preliminary&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">category</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">[{</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&#39;coding&#39;</span><span style="color:#E1E4E8;">:[{</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#9ECBFF;">&#39;system&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;http://hl7.org/fhir/observation-category&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#9ECBFF;">&#39;code&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;vital-signs&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">        }]   </span></span>
<span class="line"><span style="color:#E1E4E8;">    }],</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">code</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#9ECBFF;">&#39;coding&#39;</span><span style="color:#E1E4E8;">:[{</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#9ECBFF;">&#39;system&#39;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&#39;http://loinc.org&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#9ECBFF;">&#39;code&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;55284-4&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">            }]</span></span>
<span class="line"><span style="color:#E1E4E8;">        },</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">component</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">[</span></span>
<span class="line"><span style="color:#E1E4E8;">        {</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#9ECBFF;">&#39;code&#39;</span><span style="color:#E1E4E8;">:{</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#9ECBFF;">&#39;coding&#39;</span><span style="color:#E1E4E8;">:[{</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#9ECBFF;">&#39;system&#39;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&#39;http://loinc.org&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#9ECBFF;">&#39;code&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;8480-6&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">                }]</span></span>
<span class="line"><span style="color:#E1E4E8;">            },</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#9ECBFF;">&#39;valueQuantity&#39;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#9ECBFF;">&#39;system&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;http://unitsofmeasure.org&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#9ECBFF;">&#39;value&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">120</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#9ECBFF;">&#39;code&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;mmHg&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">            }</span></span>
<span class="line"><span style="color:#E1E4E8;">        },</span></span>
<span class="line"><span style="color:#E1E4E8;">        {</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#9ECBFF;">&#39;code&#39;</span><span style="color:#E1E4E8;">:{</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#9ECBFF;">&#39;coding&#39;</span><span style="color:#E1E4E8;">:[{</span></span>
<span class="line"><span style="color:#E1E4E8;">                    </span><span style="color:#9ECBFF;">&#39;system&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;http://loinc.org&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                    </span><span style="color:#9ECBFF;">&#39;code&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;8462-4&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">                }]</span></span>
<span class="line"><span style="color:#E1E4E8;">            },</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#9ECBFF;">&#39;valueQuantity&#39;</span><span style="color:#E1E4E8;">:{</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#9ECBFF;">&#39;system&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;http://unitsofmeasure.org&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#9ECBFF;">&#39;value&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">80</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#9ECBFF;">&#39;code&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;mmHg&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">            }</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">    ],</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">effectiveDateTime</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;2022-10-21&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">subject</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">patient.to_reference()</span></span>
<span class="line"><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">tuesday_blood_pressure_observaion </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> client.resource(</span></span>
<span class="line"><span style="color:#24292E;">     </span><span style="color:#032F62;">&#39;Observation&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">status</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;preliminary&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">category</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">[{</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&#39;coding&#39;</span><span style="color:#24292E;">:[{</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#032F62;">&#39;system&#39;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;http://hl7.org/fhir/observation-category&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#032F62;">&#39;code&#39;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;vital-signs&#39;</span></span>
<span class="line"><span style="color:#24292E;">        }]   </span></span>
<span class="line"><span style="color:#24292E;">    }],</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">code</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#032F62;">&#39;coding&#39;</span><span style="color:#24292E;">:[{</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#032F62;">&#39;system&#39;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&#39;http://loinc.org&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#032F62;">&#39;code&#39;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;55284-4&#39;</span></span>
<span class="line"><span style="color:#24292E;">            }]</span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">component</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">[</span></span>
<span class="line"><span style="color:#24292E;">        {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#032F62;">&#39;code&#39;</span><span style="color:#24292E;">:{</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#032F62;">&#39;coding&#39;</span><span style="color:#24292E;">:[{</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#032F62;">&#39;system&#39;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&#39;http://loinc.org&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#032F62;">&#39;code&#39;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;8480-6&#39;</span></span>
<span class="line"><span style="color:#24292E;">                }]</span></span>
<span class="line"><span style="color:#24292E;">            },</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#032F62;">&#39;valueQuantity&#39;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#032F62;">&#39;system&#39;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;http://unitsofmeasure.org&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#032F62;">&#39;value&#39;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">120</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#032F62;">&#39;code&#39;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;mmHg&#39;</span></span>
<span class="line"><span style="color:#24292E;">            }</span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">        {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#032F62;">&#39;code&#39;</span><span style="color:#24292E;">:{</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#032F62;">&#39;coding&#39;</span><span style="color:#24292E;">:[{</span></span>
<span class="line"><span style="color:#24292E;">                    </span><span style="color:#032F62;">&#39;system&#39;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;http://loinc.org&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                    </span><span style="color:#032F62;">&#39;code&#39;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;8462-4&#39;</span></span>
<span class="line"><span style="color:#24292E;">                }]</span></span>
<span class="line"><span style="color:#24292E;">            },</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#032F62;">&#39;valueQuantity&#39;</span><span style="color:#24292E;">:{</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#032F62;">&#39;system&#39;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;http://unitsofmeasure.org&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#032F62;">&#39;value&#39;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">80</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#032F62;">&#39;code&#39;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;mmHg&#39;</span></span>
<span class="line"><span style="color:#24292E;">            }</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">    ],</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">effectiveDateTime</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;2022-10-21&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">subject</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">patient.to_reference()</span></span>
<span class="line"><span style="color:#24292E;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br></div></div><ul><li>Save Tuesday&#39;s <code>Observation</code> resources to the HAPI FHIR server database</li></ul><div class="language-py vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">tuesday_temperature_observation.save()</span></span>
<span class="line"><span style="color:#E1E4E8;">tuesday_blood_pressure_observaion.save()</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">tuesday_temperature_observation.save()</span></span>
<span class="line"><span style="color:#24292E;">tuesday_blood_pressure_observaion.save()</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="work-with-related-resources" tabindex="-1">Work with related resources <a class="header-anchor" href="#work-with-related-resources" aria-label="Permalink to &quot;Work with related resources&quot;">​</a></h2><p>We&#39;ve just created our first two observations. Let&#39;s see how to make a search. We can use <code>patient</code> search parameter to find all the patient&#39;s observations. There are multiple <a href="https://www.hl7.org/fhir/observation.html#search" target="_blank" rel="noreferrer">search parameters</a> defined for Observation. With <code>patient</code> we can search for observations which belong to the patient we&#39;ve created before by giving patient&#39;s <code>id</code> as an argument, or use <code>patient.to_reference()</code> to get the <code>id</code>.</p><div class="language-py vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> client.resources(</span><span style="color:#9ECBFF;">&#39;Observation&#39;</span><span style="color:#E1E4E8;">).search(</span><span style="color:#FFAB70;">patient</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">patient[</span><span style="color:#9ECBFF;">&#39;id&#39;</span><span style="color:#E1E4E8;">]).fetch_all()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># or</span></span>
<span class="line"><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> client.resources(</span><span style="color:#9ECBFF;">&#39;Observation&#39;</span><span style="color:#E1E4E8;">).search(</span><span style="color:#FFAB70;">patient</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">patient.to_reference()).fetch_all()</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">await</span><span style="color:#24292E;"> client.resources(</span><span style="color:#032F62;">&#39;Observation&#39;</span><span style="color:#24292E;">).search(</span><span style="color:#E36209;">patient</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">patient[</span><span style="color:#032F62;">&#39;id&#39;</span><span style="color:#24292E;">]).fetch_all()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># or</span></span>
<span class="line"><span style="color:#D73A49;">await</span><span style="color:#24292E;"> client.resources(</span><span style="color:#032F62;">&#39;Observation&#39;</span><span style="color:#24292E;">).search(</span><span style="color:#E36209;">patient</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">patient.to_reference()).fetch_all()</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>As you can see, there are multiple observations registered for the patient.</p><p>To do the reverse search for <code>Patient</code> based on a reference in <code>Observation</code> we can use <a href="https://www.hl7.org/fhir/search.html#has" target="_blank" rel="noreferrer">reverse chaining</a> with <code>_has</code> search parameter. <code>_has</code> allows to select resources based on the properties of resources which refer to them.</p><p>For example, query <code>GET /Patient?_has:Observation:patient:code=8310-5</code> will search for observayions with <code>code=8310-5</code> (which is related to the body temperature).</p><p>From every observation found retrieves a refernce to the <code>Patient</code> this observation refers to. The Patient is then included into the search result. Note that <code>code</code> here is not directly applies to <code>Observation</code> structure, it is defined as a <a href="https://www.hl7.org/fhir/observation.html#search" target="_blank" rel="noreferrer">search parameter</a> instead.</p><p>Let&#39;s build the same query with <code>fhirpy</code> API.</p><div class="language-py vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> client.resources(</span><span style="color:#9ECBFF;">&#39;Patient&#39;</span><span style="color:#E1E4E8;">).has(</span><span style="color:#9ECBFF;">&#39;Observation&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;patient&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">code</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;8310-5&#39;</span><span style="color:#E1E4E8;">).fetch()</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">await</span><span style="color:#24292E;"> client.resources(</span><span style="color:#032F62;">&#39;Patient&#39;</span><span style="color:#24292E;">).has(</span><span style="color:#032F62;">&#39;Observation&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;patient&#39;</span><span style="color:#24292E;">, </span><span style="color:#E36209;">code</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;8310-5&#39;</span><span style="color:#24292E;">).fetch()</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>This query returns all of the temperature <code>Observation&#39;s</code> Patient resources from the database.</p><h2 id="summary" tabindex="-1">Summary <a class="header-anchor" href="#summary" aria-label="Permalink to &quot;Summary&quot;">​</a></h2><p>From this tutorial we will more familar with:</p><ul><li>Load observations from the HAPI FHIR server.</li><li>Create Observation records.</li><li>Srearch releted resources.</li><li>Display different Resource&#39;s attributes.</li></ul></div></div></main><footer class="VPDocFooter" data-v-6b87e69f data-v-ef5dee53><!--[--><!--]--><div class="edit-info" data-v-ef5dee53><div class="edit-link" data-v-ef5dee53><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/Copper3D-brids/codespacex/blob/main/src/docs/ehr/fhir/hapi_fhir/tutorials/03-observation-resource.md" target="_blank" rel="noreferrer" data-v-ef5dee53><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="edit-link-icon" aria-label="edit icon" data-v-ef5dee53><path d="M18,23H4c-1.7,0-3-1.3-3-3V6c0-1.7,1.3-3,3-3h7c0.6,0,1,0.4,1,1s-0.4,1-1,1H4C3.4,5,3,5.4,3,6v14c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1v-7c0-0.6,0.4-1,1-1s1,0.4,1,1v7C21,21.7,19.7,23,18,23z"></path><path d="M8,17c-0.3,0-0.5-0.1-0.7-0.3C7,16.5,6.9,16.1,7,15.8l1-4c0-0.2,0.1-0.3,0.3-0.5l9.5-9.5c1.2-1.2,3.2-1.2,4.4,0c1.2,1.2,1.2,3.2,0,4.4l-9.5,9.5c-0.1,0.1-0.3,0.2-0.5,0.3l-4,1C8.2,17,8.1,17,8,17zM9.9,12.5l-0.5,2.1l2.1-0.5l9.3-9.3c0.4-0.4,0.4-1.1,0-1.6c-0.4-0.4-1.2-0.4-1.6,0l0,0L9.9,12.5z M18.5,2.5L18.5,2.5L18.5,2.5z"></path></svg> Edit this page on GitHub<!--]--></a></div><div class="last-updated" data-v-ef5dee53><p class="VPLastUpdated" data-v-ef5dee53 data-v-7e05ebdb>Last update time: <time datetime="2023-10-20T05:48:48.000Z" data-v-7e05ebdb></time></p></div></div><nav class="prev-next" data-v-ef5dee53><div class="pager" data-v-ef5dee53><a class="pager-link prev" href="/codespacex/docs/ehr/fhir/hapi_fhir/tutorials/02-patient-resource" data-v-ef5dee53><span class="desc" data-v-ef5dee53>Prev</span><span class="title" data-v-ef5dee53>T-02 Patient resource</span></a></div><div class="pager" data-v-ef5dee53><a class="pager-link next" href="/codespacex/docs/ehr/fhir/hapi_fhir/tutorials/04-practitioner-schedule-resource" data-v-ef5dee53><span class="desc" data-v-ef5dee53>Next</span><span class="title" data-v-ef5dee53>T-04 Practitioner & Schedule resource</span></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-5a346dfe data-v-e03eb2e1><div class="container" data-v-e03eb2e1><p class="message" data-v-e03eb2e1>CodeSpaceX Blog, Welcome <a target="_blank" style="color: var(--vp-c-brand)" href="https://github.com/Copper3D-brids/codespacex">star ⭐</a> let's get more people to discover!</p><p class="copyright" data-v-e03eb2e1><a target="_blank" href="https://github.com/Copper3D-brids/codespacex/blob/main/LICENSE">Apache-2.0 License CodeSpaceX </a> | COPYRIGHT © 2023-2024</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"docs_copper3d_issues.md\":\"bd803ac8\",\"docs_devops_elastic-search_03-project.md\":\"782441a1\",\"docs_ehr_fhir_04-fhir-redcap.md\":\"65ea77df\",\"docs_devops_azure_azure104_topic_2.md\":\"e0838a5f\",\"docs_ehr_fhir_fhir-ig_01-fhir-ig.md\":\"6baef3bd\",\"docs_ehr_fhir_hapi_fhir_tutorials_01-initial-data.md\":\"c1584958\",\"docs_ehr_fhir_hapi_fhir_tutorials_00-synthea.md\":\"678e97ca\",\"index.md\":\"dd8d417b\",\"docs_ehr_index.md\":\"97660b26\",\"docs_code-tools_nav.md\":\"271a7c26\",\"docs_ehr_fhir_hapi_fhir_tutorials_05-appointment-resource.md\":\"94999e91\",\"docs_devops_azure_template.md\":\"68e218ff\",\"docs_ehr_fhir_fhir-ig_02-fhir-mcode.md\":\"29304891\",\"docs_devops_elastic-search_00-index.md\":\"ec1a2fca\",\"docs_ehr_fhir_hapi_fhir_hapi-fhir.md\":\"c7909f42\",\"docs_ehr_fhir_hapi_fhir_tutorials_02-patient-resource.md\":\"f6714eff\",\"docs_ehr_fhir_fhir-ig_03-fhir-profiling.md\":\"5ebdc704\",\"docs_ehr_fhir_hapi_fhir_tutorials_06-encounter-resource.md\":\"3f8ec77b\",\"docs_devops_kubernetes_index.md\":\"924f593b\",\"docs_inspirations_python.md\":\"9f522d59\",\"docs_ehr_fhir_01-fhir-resources.md\":\"2e775c7e\",\"docs_ehr_roadmap.md\":\"94f38430\",\"docs_devops_elastic-search_01-es-install.md\":\"1cd3033b\",\"docs_devops_elastic-search_02-knowledge.md\":\"0f08d6c7\",\"docs_ehr_fhir_03-fhir-omop.md\":\"58dbede4\",\"docs_devops_azure_azure104_topic_1.md\":\"c0d58907\",\"docs_ehr_fhir_hapi_fhir_tutorials_03-observation-resource.md\":\"f68dc617\",\"docs_inspirations_git.md\":\"02bb5ecf\",\"docs_ehr_fhir_hapi_fhir_tutorials_04-practitioner-schedule-resource.md\":\"5058690f\",\"docs_ehr_soda_soda_guidelines.md\":\"a8fdfd22\",\"docs_ehr_server_mvp.md\":\"4d4f8b9f\",\"docs_ehr_fhir_hapi_fhir_tutorials_07-imagingstudy-resource.md\":\"6912969e\",\"docs_ehr_fhir_hapi_fhir_tutorials_08-imagingstudy-ehr.md\":\"e9f09927\",\"docs_ehr_server_architecture.md\":\"4a508912\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"CodeSpaceX\",\"description\":\"A knowledge base for EHR & CI/CD\",\"base\":\"/codespacex/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"outline\":\"deep\",\"docFooter\":{\"prev\":\"Prev\",\"next\":\"Next\"},\"lastUpdatedText\":\"Last update time\",\"editLink\":{\"pattern\":\"https://github.com/Copper3D-brids/codespacex/blob/main/src/:path\",\"text\":\"Edit this page on GitHub\"},\"footer\":{\"message\":\"CodeSpaceX Blog, Welcome <a target=\\\"_blank\\\" style=\\\"color: var(--vp-c-brand)\\\" href=\\\"https://github.com/Copper3D-brids/codespacex\\\">star ⭐</a> let's get more people to discover!\",\"copyright\":\"<a target=\\\"_blank\\\" href=\\\"https://github.com/Copper3D-brids/codespacex/blob/main/LICENSE\\\">Apache-2.0 License CodeSpaceX </a> | COPYRIGHT © 2023-2024\"},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/Copper3D-brids/codespacex\"}],\"algolia\":{\"apiKey\":\"45b6bb84224e68593eeda867627c0925\",\"indexName\":\"codespacex\",\"appId\":\"P808QIPILT\",\"placeholder\":\"Keywords for search docs\",\"translations\":{\"button\":{\"buttonText\":\"Search\"}}},\"nav\":[{\"text\":\"📝 Inspirations\",\"link\":\"/docs/inspirations/git\",\"activeMatch\":\"/docs/inspirations/\"},{\"text\":\"🔥 EHR\",\"items\":[{\"items\":[{\"text\":\"🕌 Architecture\",\"link\":\"/docs/ehr/server/architecture\",\"activeMatch\":\"/docs/ehr\"}]},{\"text\":\"🌋 FHIR\",\"link\":\"/docs/ehr/fhir/01-fhir-resources\",\"activeMatch\":\"/docs/ehr\"},{\"text\":\"🤖 OMOP\",\"link\":\"/docs/ehr/fhir/03-fhir-omop\",\"activeMatch\":\"/docs/ehr\"},{\"text\":\"🤔 SODA\",\"link\":\"/docs/ehr/soda/soda_guidelines\",\"activeMatch\":\"/docs/ehr\"}]},{\"text\":\"🦾 DevOps\",\"items\":[{\"text\":\"Azure\",\"link\":\"/docs/devops/azure/azure104/topic_1\",\"activeMatch\":\"/docs/devops\"},{\"text\":\"Elastic Search\",\"link\":\"/docs/devops/elastic-search/00-index\",\"activeMatch\":\"/docs/devops\"},{\"text\":\"Docker\",\"link\":\"/docs/devops/docker/index\",\"activeMatch\":\"/docs/devops\"},{\"text\":\"Kubernetes\",\"link\":\"/docs/devops/kubernetes/index\",\"activeMatch\":\"/docs/devops\"}]},{\"text\":\"Copper3d\",\"items\":[{\"text\":\"Issues\",\"link\":\"/docs/copper3d/issues\",\"activeMatch\":\"/docs/copper3d\"}]},{\"text\":\"🔧 Coding tools\",\"link\":\"/docs/code-tools/nav\",\"activeMatch\":\"/docs/code-tools/\"}],\"sidebar\":{\"/docs/inspirations\":[{\"text\":\"\",\"collapsed\":false,\"items\":[{\"text\":\"Python\",\"link\":\"/docs/inspirations/python\"},{\"text\":\"Git\",\"link\":\"/docs/inspirations/git\"},{\"text\":\"Javascript\",\"link\":\"/docs/interview/javascript\"},{\"text\":\"TypeScript\",\"link\":\"/docs/interview/typescript\"}]}],\"/docs/ehr\":[{\"text\":\"EHR\",\"collapsed\":false,\"items\":[{\"text\":\"📚 Roadmap\",\"link\":\"/docs/ehr/roadmap\"},{\"text\":\"🌱 Architecture\",\"items\":[{\"text\":\"MVP\",\"link\":\"/docs/ehr/server/mvp\"}],\"link\":\"/docs/ehr/server/architecture\"},{\"text\":\"FHIR\",\"items\":[{\"text\":\"FHIR Resources for EHR (MRI)\",\"link\":\"/docs/ehr/fhir/01-fhir-resources\"},{\"text\":\"Hapi FHIR\",\"link\":\"/docs/ehr/fhir/hapi_fhir/hapi-fhir\",\"items\":[{\"text\":\"T-00 Synthea data\",\"link\":\"/docs/ehr/fhir/hapi_fhir/tutorials/00-synthea\"},{\"text\":\"T-01 Initial dataset\",\"link\":\"/docs/ehr/fhir/hapi_fhir/tutorials/01-initial-data\"},{\"text\":\"T-02 Patient resource\",\"link\":\"/docs/ehr/fhir/hapi_fhir/tutorials/02-patient-resource\"},{\"text\":\"T-03 Observation resource\",\"link\":\"/docs/ehr/fhir/hapi_fhir/tutorials/03-observation-resource\"},{\"text\":\"T-04 Practitioner & Schedule resource\",\"link\":\"/docs/ehr/fhir/hapi_fhir/tutorials/04-practitioner-schedule-resource\"},{\"text\":\"T-05 Appointment resource\",\"link\":\"/docs/ehr/fhir/hapi_fhir/tutorials/05-appointment-resource\"},{\"text\":\"T-06 Encounter resource\",\"link\":\"/docs/ehr/fhir/hapi_fhir/tutorials/06-encounter-resource\"},{\"text\":\"T-07 ImagingStudy resource\",\"link\":\"/docs/ehr/fhir/hapi_fhir/tutorials/07-imagingstudy-resource\"},{\"text\":\"T-08 ImagingStudy Duke EHR\",\"link\":\"/docs/ehr/fhir/hapi_fhir/tutorials/08-imagingstudy-ehr\"}]},{\"text\":\"Hapi Implementation Guide\",\"link\":\"/docs/ehr/fhir/fhir-ig/01-fhir-ig\",\"items\":[{\"text\":\"FHIR Implementation Guide & Package\",\"link\":\"/docs/ehr/fhir/fhir-ig/01-fhir-ig\"},{\"text\":\"mCODE Implementation Guide\",\"link\":\"/docs/ehr/fhir/fhir-ig/02-fhir-mcode\"},{\"text\":\"FHIR Profiling Training\",\"link\":\"/docs/ehr/fhir/fhir-ig/03-fhir-profiling\"}]},{\"text\":\"OMOP on FHIR\",\"link\":\"/docs/ehr/fhir/03-fhir-omop\"},{\"text\":\"REDCap on FHIR\",\"link\":\"/docs/ehr/fhir/04-fhir-redcap\"}]},{\"text\":\"SODA\",\"link\":\"/docs/ehr/soda/soda_guidelines\",\"items\":[{\"text\":\"Guidelines\",\"link\":\"/docs/ehr/soda/soda_guidelines\"}]}]}],\"/docs/devops/\":[{\"text\":\"Elastic Search\",\"collapsed\":false,\"items\":[{\"text\":\"Usage & Scope\",\"link\":\"/docs/devops/elastic-search/00-index\"},{\"text\":\"Install Elasticsearch\",\"link\":\"/docs/devops/elastic-search/01-es-install\"},{\"text\":\"Basic Knowledge\",\"link\":\"/docs/devops/elastic-search/02-knowledge\"},{\"text\":\"Projects\",\"link\":\"/docs/devops/elastic-search/03-project\"}]},{\"text\":\"Docker\",\"collapsed\":false,\"items\":[{\"text\":\"Usage & Scope\",\"link\":\"/docs/devops/docker/index\"}]},{\"text\":\"Kubernetes\",\"collapsed\":false,\"items\":[{\"text\":\"Usage & Scope\",\"link\":\"/docs/devops/kubernetes/index\"}]},{\"text\":\"Azure\",\"collapsed\":false,\"items\":[{\"text\":\"Azure 104\",\"items\":[{\"text\":\"Topic One\",\"link\":\"/docs/devops/azure/azure104/topic_1\"},{\"text\":\"Topic Two\",\"link\":\"/docs/devops/azure/azure104/topic_2\"}]}]}],\"/docs/copper3d/\":[{\"text\":\"Copper3d\",\"collapsed\":false,\"items\":[{\"text\":\"📚 Issues\",\"link\":\"/docs/copper3d/issues\"}]}],\"/docs/code-tools\":[{\"text\":\"Resources\",\"link\":\"/docs/code-tools/nav\"}]}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":true}");</script>
    
  </body>
</html>